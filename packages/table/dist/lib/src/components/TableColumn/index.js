"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),c=require("@element-plus/icons-vue"),z=require("@element-plus/pro-button"),a=require("element-plus"),A=require("../../enum.js"),y=t.defineComponent(h=>{const V=t.inject("tableProps",{}),{ctx:s,columnEmptyText:p,cellAlign:C}=V,x=t.computed(()=>e=>e.ellipsis!=null?e.ellipsis:V.ellipsis),T=e=>{const{filters:r,valueOption:o=[]}=e;if(r===!0&&o!=null&&o.length)return o.map(l=>({text:l.label||l.text,value:l.value}));if(Array.isArray(r)&&(r!=null&&r.length))return r.map(l=>({text:l.label||l.text,value:l.value}))},k=(e,r,o)=>{const l=Number(r);switch(e){case"switch":return;case"image":return t.createVNode("div",{class:"cell-image"},[t.createVNode(a.ElImage,{src:r,"preview-src-list":[r],"preview-teleported":!0,fit:"cover",style:"height: 100%; display: flex; align-items: center; justify-content: center;"},{error:()=>t.createVNode(a.ElIcon,{size:26},{default:()=>[t.createVNode(c.Picture,null,null)]})}),t.createVNode("div",{class:"mask-view"},[t.createVNode(a.ElIcon,{color:"#fff"},{default:()=>[t.createVNode(c.View,null,null)]})])]);case"avatar":return t.createVNode(a.ElAvatar,{src:r,size:30,icon:c.UserFilled},null);case"rate":const i=Number.isNaN(l)?0:l>5?5:l;return t.createVNode(a.ElRate,{modelValue:i,size:"large","disabled-void-color":"#c0c4cc","allow-half":!0,disabled:!0},null);case"progress":const b=Number.isNaN(l)?0:l>100?100:l;return t.createVNode(a.ElProgress,{percentage:b,style:"flex: 1"},null);case"tag":return;case"action":return F(o);default:return r}},F=e=>t.createVNode(t.Fragment,null,[t.createVNode(a.ElTooltip,{content:"编辑",placement:"top",effect:"dark"},{default:()=>[t.createVNode(a.ElButton,{type:"warning",size:"small",icon:c.Edit,onClick:()=>s.emit("action",0,e.row)},null)]}),t.createVNode(a.ElTooltip,{content:"详情",placement:"top",effect:"dark"},{default:()=>[t.createVNode(a.ElButton,{type:"primary",size:"small",icon:c.Search,onClick:()=>s.emit("action",1,e.row)},null)]}),t.createVNode(a.ElTooltip,{content:"删除",placement:"top",effect:"dark"},{default:()=>[t.createVNode(z,{type:"danger",size:"small",icon:c.Delete,tip:"确定要删除吗?",onClick:()=>s.emit("action",2,e.row)},null)]})]),j=(e,r)=>{var g,E,w;const{dataField:o,valueType:l,valueEnum:i,tooltip:b,ellipsis:S,render:f}=r;if(o&&s.slots[o]||l&&s.slots[l]){const N=o||l;return(E=(g=s.slots)[N])==null?void 0:E.call(g,e.row)}let u=o?e.row[o]:"-";if(l){if(l=="index")return;u=k(l,u,e)}if(l===void 0&&i){const N=o?e.row[o]:"",n=i[N],m=typeof n=="object"&&n.status?A.StatusColorEnum[n.status]:void 0;u=typeof n=="object"&&Object.prototype.toString.call(n)=="[object Object]"?t.createVNode(a.ElSpace,{size:5},{default:()=>[m&&t.createVNode("span",{class:`dot ${n.status}`,style:{"--status-color":m,background:m}},null)," ",n.text]}):n}let d="-";typeof p=="boolean"?d=p?"-":"":d=p||d;const v=(w=f==null?void 0:f(e.row))!=null?w:u;return v?t.createVNode(t.Fragment,null,[v," ",r.copyable&&t.createVNode(a.ElIcon,{class:"copyable"},{default:()=>[t.createVNode(c.DocumentCopy,null,null)]})]):d};return()=>t.createVNode(t.Fragment,null,[h.columns.map(e=>t.createVNode(a.ElTableColumn,{prop:e.dataField,label:e.title,type:e.valueType,sortable:e.sorter,width:e.width||"auto",align:e.align||C,fixed:e.fixed,filters:T(e),"show-overflow-tooltip":x.value(e),key:e.dataField},{default:r=>e.children&&e.children.length?t.createVNode(y,{columns:e.children},null):j(r,e)}))])});y.props={columns:{type:Array}};const P=y;exports.default=P;
