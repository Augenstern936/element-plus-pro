"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),t=require("@element-plus/icons-vue"),l=require("@element-plus/pro-button"),o=require("element-plus"),r=require("../../enum.js"),a=e.defineComponent((n=>{const c=e.inject("tableProps",{}),{ctx:i,columnEmptyText:s,cellAlign:u}=c,d=e.computed((()=>e=>null!=e.ellipsis?e.ellipsis:c.ellipsis)),p=e=>{const{filters:t,valueOption:l=[]}=e;return!0===t&&(null==l?void 0:l.length)?l.map((e=>({text:e.label||e.text,value:e.value}))):Array.isArray(t)&&(null==t?void 0:t.length)?t.map((e=>({text:e.label||e.text,value:e.value}))):void 0},m=r=>e.createVNode(e.Fragment,null,[e.createVNode(o.ElTooltip,{content:"编辑",placement:"top",effect:"dark"},{default:()=>[e.createVNode(o.ElButton,{type:"warning",size:"small",icon:t.Edit,onClick:()=>i.emit("action",0,r.row)},null)]}),e.createVNode(o.ElTooltip,{content:"详情",placement:"top",effect:"dark"},{default:()=>[e.createVNode(o.ElButton,{type:"primary",size:"small",icon:t.Search,onClick:()=>i.emit("action",1,r.row)},null)]}),e.createVNode(o.ElTooltip,{content:"删除",placement:"top",effect:"dark"},{default:()=>[e.createVNode(l,{type:"danger",size:"small",icon:t.Delete,tip:"确定要删除吗?",onClick:()=>i.emit("action",2,r.row)},null)]})]),f=(l,a)=>{var n,c,u;const{dataField:d,valueType:p,valueEnum:f,tooltip:N,ellipsis:v,render:V}=a;if(d&&i.slots[d]||p&&i.slots[p]){const e=d||p;return null==(c=(n=i.slots)[e])?void 0:c.call(n,l.row)}let y=d?l.row[d]:"-";if(p){if("index"==p)return;y=((l,r,a)=>{const n=Number(r);switch(l){case"switch":case"tag":return;case"image":return e.createVNode("div",{class:"cell-image"},[e.createVNode(o.ElImage,{src:r,"preview-src-list":[r],"preview-teleported":!0,fit:"cover",style:"height: 100%; display: flex; align-items: center; justify-content: center;"},{error:()=>e.createVNode(o.ElIcon,{size:26},{default:()=>[e.createVNode(t.Picture,null,null)]})}),e.createVNode("div",{class:"mask-view"},[e.createVNode(o.ElIcon,{color:"#fff"},{default:()=>[e.createVNode(t.View,null,null)]})])]);case"avatar":return e.createVNode(o.ElAvatar,{src:r,size:30,icon:t.UserFilled},null);case"rate":const l=Number.isNaN(n)?0:n>5?5:n;return e.createVNode(o.ElRate,{modelValue:l,size:"large","disabled-void-color":"#c0c4cc","allow-half":!0,disabled:!0},null);case"progress":const c=Number.isNaN(n)?0:n>100?100:n;return e.createVNode(o.ElProgress,{percentage:c,style:"flex: 1"},null);case"action":return m(a);default:return r}})(p,y,l)}if(void 0===p&&f){const t=f[d?l.row[d]:""],a="object"==typeof t&&t.status?r.StatusColorEnum[t.status]:void 0;y="object"==typeof t&&"[object Object]"==Object.prototype.toString.call(t)?e.createVNode(o.ElSpace,{size:5},{default:()=>[a&&e.createVNode("span",{class:`dot ${t.status}`,style:{"--status-color":a,background:a}},null)," ",t.text]}):t}let g="-";g="boolean"==typeof s?s?"-":"":s||g;const b=null!=(u=null==V?void 0:V(l.row))?u:y;return b?e.createVNode(e.Fragment,null,[b," ",a.copyable&&e.createVNode(o.ElIcon,{class:"copyable"},{default:()=>[e.createVNode(t.DocumentCopy,null,null)]})]):g};return()=>e.createVNode(e.Fragment,null,[n.columns.map((t=>e.createVNode(o.ElTableColumn,{prop:t.dataField,label:t.title,type:t.valueType,sortable:t.sorter,width:t.width||"auto",align:t.align||u,fixed:t.fixed,filters:p(t),"show-overflow-tooltip":d.value(t),key:t.dataField},{default:l=>t.children&&t.children.length?e.createVNode(a,{columns:t.children},null):f(l,t)})))])}));a.props={columns:{type:Array}};const n=a;exports.default=n;
