"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),t=require("element-plus"),l=require("@element-plus/icons-vue"),o=require("../../../node_modules/.pnpm/screenfull@6.0.2/node_modules/screenfull/index.js");function a(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!e.isVNode(t)}const n=e.defineComponent(((n,c)=>{const r=e.inject("toolbar",{}),i=e.ref(!1),u=e.ref(""),d=e.ref(!0),s=e.ref([]),p=e.computed((()=>{var t,l;const o=null==(l=null==(t=c.slots)?void 0:t.title)?void 0:l.call(t);return o[0].children?o:r.title?e.createVNode("h3",null,[r.title]):""})),v=e.computed((()=>{var o;const n=null==(o=r.config)?void 0:o.search,{placeholder:c="请输入关键字",showAction:i=!0,actionText:d="",actionStyle:s={},onChange:p=null,onAction:v=null}="object"==typeof n?n:{},m=e.createVNode(t.ElInput,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,placeholder:c,clearable:!0,style:{width:"200px"},onInput:e=>null==p?void 0:p(e)},{append:()=>!0===i?e.createVNode(t.ElButton,{icon:d?void 0:l.Search,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,...s},onClick:()=>null==v?void 0:v(u.value)},a(d)?d:{default:()=>[d]}):void 0});return n?m:""})),m=e.computed((()=>{var l,o;const{actions:a}=r.config||{};return"object"==typeof a&&null!=a?(null==a?void 0:a.__v_isVNode)?a:Array.isArray(a)&&a.length?a.map((l=>l.__v_isVNode?l:e.createVNode(t.ElButton,l,{default:()=>[l.content]}))):e.createVNode(t.ElButton,a,{default:()=>[a.content]}):null==(o=(l=c.slots).actions)?void 0:o.call(l)})),f=e.computed((()=>r.columns.filter((({title:e})=>e)))),V=e=>{c.emit("columnsSettingChange",e)},N=()=>{d.value=!0,s.value=f.value.map((({id:e})=>e)),c.emit("columnsSettingReset")},h=()=>{if(o.default.isEnabled){const e=document.getElementById("pro-table");i.value?o.default.exit():o.default.request(e),i.value=!i.value,c.emit("fullScreenChange",i.value)}};return e.watch((()=>d.value),(e=>{if(e)return N();s.value=[],c.emit("columnsSettingChange",[])}),{immediate:!0}),()=>{let o;return e.createVNode("div",{class:"toolbar-container"},[e.createVNode("div",{class:"left"},[p.value?p.value:v.value]),e.createVNode("div",{class:"right"},[p.value&&v.value,e.createVNode("div",{class:"actions"},[m.value]),r.options&&e.createVNode("div",{class:"options"},[e.createVNode(t.ElTooltip,{content:"刷新",placement:"top"},{default:()=>[e.createVNode(t.ElButton,{class:"icon",icon:l.RefreshRight,circle:!0,onClick:()=>c.emit("refresh")},null)]}),r.showSearchOption&&e.createVNode(t.ElTooltip,{content:"搜索栏显隐",placement:"top"},{default:()=>[e.createVNode(t.ElButton,{class:"icon",icon:l.Search,circle:!0,onClick:()=>c.emit("searchDisplay")},null)]}),e.createVNode(t.ElPopover,{placement:"bottom",width:200,trigger:"click","popper-class":"columns-setting-popover","popper-style":{padding:0}},{default:()=>[e.createVNode("div",{class:"columns-setting-popover-content"},[e.createVNode("div",{class:"head"},[e.createVNode(t.ElCheckbox,{modelValue:d.value,"onUpdate:modelValue":e=>d.value=e},{default:()=>[e.createTextVNode("列展示")]}),e.createVNode("span",{class:"reset-btn",onClick:N},[e.createTextVNode("重置")])]),e.createVNode("div",{class:"body"},[e.createVNode(t.ElCheckboxGroup,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,onChange:V},a(o=f.value.map(((l,o)=>e.createVNode("p",{key:o},[e.createVNode(t.ElCheckbox,{label:l.id},{default:()=>[l.title]})]))))?o:{default:()=>[o]})])])],reference:()=>e.createVNode("div",{class:"icon",style:"display: flex; align-items: center"},[e.createVNode(t.ElTooltip,{content:"列设置",placement:"top"},{default:()=>[e.createVNode(t.ElButton,{icon:l.Setting,circle:!0},null)]})])}),e.createVNode(t.ElTooltip,{content:i.value?"退出全屏":"全屏",placement:"top"},{default:()=>[e.createVNode(t.ElButton,{class:"icon",icon:l.FullScreen,circle:!0,onClick:h},null)]})])])])}}));exports.default=n;
