"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),s=require("@element-plus/icons-vue"),l=require("element-plus"),h=require("../../../node_modules/.pnpm/screenfull@6.0.2/node_modules/screenfull/index.js");function C(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!e.isVNode(i)}const j=e.defineComponent((i,a)=>{const r=e.inject("toolbar",{}),u=e.ref(!1),f=e.ref(""),d=e.ref(!0),p=e.ref([]),m=e.computed(()=>{var o,n;const t=(n=(o=a.slots)==null?void 0:o.title)==null?void 0:n.call(o);return t[0].children?t:r.title?e.createVNode("h3",null,[r.title]):""}),g=e.computed(()=>{var S;const t=(S=r.config)==null?void 0:S.search,{placeholder:o="请输入关键字",showAction:n=!0,actionText:c="",actionStyle:k={},onChange:v=null,onAction:V=null}=typeof t=="object"?t:{},_=()=>n===!0?e.createVNode(l.ElButton,{icon:c?void 0:s.Search,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,...k},onClick:()=>V==null?void 0:V(f.value)},C(c)?c:{default:()=>[c]}):void 0,R=e.createVNode(l.ElInput,{modelValue:f.value,"onUpdate:modelValue":N=>f.value=N,placeholder:o,clearable:!0,style:{width:"200px"},onInput:N=>v==null?void 0:v(N)},{append:_});return t?R:""}),y=e.computed(()=>{var o,n;const{actions:t}=r.config||{};return typeof t=="object"&&t!=null?t!=null&&t.__v_isVNode?t:Array.isArray(t)&&t.length?t.map(c=>c.__v_isVNode?c:e.createVNode(l.ElButton,c,{default:()=>[c.content]})):e.createVNode(l.ElButton,t,{default:()=>[t.content]}):(n=(o=a.slots).actions)==null?void 0:n.call(o)}),E=e.computed(()=>r.columns.filter(({title:t})=>t)),B=t=>{a.emit("columnsSettingChange",t)},b=()=>{d.value=!0,p.value=E.value.map(({id:t})=>t),a.emit("columnsSettingReset")},T=()=>{if(h.default.isEnabled){const t=document.getElementById("pro-table");u.value?h.default.exit():h.default.request(t),u.value=!u.value,a.emit("fullScreenChange",u.value)}};return e.watch(()=>d.value,t=>{if(t)return b();p.value=[],a.emit("columnsSettingChange",[])},{immediate:!0}),()=>{let t;return e.createVNode("div",{class:"toolbar-container"},[e.createVNode("div",{class:"left"},[m.value?m.value:g.value]),e.createVNode("div",{class:"right"},[m.value&&g.value,e.createVNode("div",{class:"actions"},[y.value]),r.options&&e.createVNode("div",{class:"options"},[e.createVNode(l.ElTooltip,{content:"刷新",placement:"top"},{default:()=>[e.createVNode(l.ElButton,{class:"icon",icon:s.RefreshRight,circle:!0,onClick:()=>a.emit("refresh")},null)]}),r.showSearchOption&&e.createVNode(l.ElTooltip,{content:"搜索栏显隐",placement:"top"},{default:()=>[e.createVNode(l.ElButton,{class:"icon",icon:s.Search,circle:!0,onClick:()=>a.emit("searchDisplay")},null)]}),e.createVNode(l.ElPopover,{placement:"bottom",width:200,trigger:"click","popper-class":"columns-setting-popover","popper-style":{padding:0}},{default:()=>[e.createVNode("div",{class:"columns-setting-popover-content"},[e.createVNode("div",{class:"head"},[e.createVNode(l.ElCheckbox,{modelValue:d.value,"onUpdate:modelValue":o=>d.value=o},{default:()=>[e.createTextVNode("列展示")]}),e.createVNode("span",{class:"reset-btn",onClick:b},[e.createTextVNode("重置")])]),e.createVNode("div",{class:"body"},[e.createVNode(l.ElCheckboxGroup,{modelValue:p.value,"onUpdate:modelValue":o=>p.value=o,onChange:B},C(t=E.value.map((o,n)=>e.createVNode("p",{key:n},[e.createVNode(l.ElCheckbox,{label:o.id},{default:()=>[o.title]})])))?t:{default:()=>[t]})])])],reference:()=>e.createVNode("div",{class:"icon",style:"display: flex; align-items: center"},[e.createVNode(l.ElTooltip,{content:"列设置",placement:"top"},{default:()=>[e.createVNode(l.ElButton,{icon:s.Setting,circle:!0},null)]})])}),e.createVNode(l.ElTooltip,{content:u.value?"退出全屏":"全屏",placement:"top"},{default:()=>[e.createVNode(l.ElButton,{class:"icon",icon:s.FullScreen,circle:!0,onClick:T},null)]})])])])}}),w=j;exports.default=w;
